var Shatter=function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="/build",n(0)}([function(t,n,e){"use strict";function r(t,n){this.opts={numPolys:t.numPolys||2,scale:t.scale||1,debug:t.debug||!1},this.img=t.img,this.images=[],this.init(),n(this)}var i=e(1),o=e(2);n.Shatter=function(t,n){return new r(t,n)},r.prototype.init=function(){var t;t=this.getPolys(this.img.width,this.img.height,this.opts.numPolys),this.roundVertices(t),this.calcBoundaries(t,this.img),this.scaleCoordinates(t,this.opts.scale),this.images=this.spliceImage(t,this.img),this.opts.debug&&(this.debug=this.getDebugImage(t,"#fff"))},r.prototype.getPolys=function(t,n,e){var r=(0,i.range)(e).map(function(e){return[Math.random()*t,Math.random()*n]}),u=(0,o.voronoi)().extent([[0,0],[t,n]]),a=u.polygons(r);return a},r.prototype.roundVertices=function(t){t.forEach(function(t){t.forEach(function(t){t[0]=Math.round(t[0]),t[1]=Math.round(t[1])})})},r.prototype.scaleCoordinates=function(t,n){var n=n;t.forEach(function(t){t.points=[];var e=(t.maxX+t.minX)/2,r=(t.maxY+t.minY)/2;t.forEach(function(i){var o=i[0]-t.minX,u=i[1]-t.minY;o=Math.round(n*(o-e)+e),u=Math.round(n*(u-r)+r),t.points.push(o,u)})})},r.prototype.calcBoundaries=function(t,n){t.forEach(function(t){t.minX=n.width,t.minY=n.height,t.maxX=0,t.maxY=0,t.forEach(function(n){t.minX=n[0]<t.minX?n[0]:t.minX,t.minY=n[1]<t.minY?n[1]:t.minY,t.maxX=n[0]>t.maxX?n[0]:t.maxX,t.maxY=n[1]>t.maxY?n[1]:t.maxY})})},r.prototype.spliceImage=function(t,n){var e=[],i=document.createElement("canvas");i.width=n.width,i.height=n.height;var o=i.getContext("2d");return o.save(),t.forEach(function(t){var u=r.prototype.getClippedImage(t,o,i,n),a=r.prototype.getCroppedImage(t,u);e.push({image:a,x:t.minX,y:t.minY,points:t.points}),a=null,o.restore(),o.clearRect(0,0,250,250),o.save()}),i=null,e},r.prototype.getClippedImage=function(t,n,e,r){t.forEach(function(t,e,r){return 0===e?(n.beginPath(),void n.moveTo(t[0],t[1])):(n.lineTo(t[0],t[1]),void(e===r.length-1&&n.lineTo(r[0][0],r[0][1])))}),n.clip(),n.drawImage(r,0,0);var i=r.cloneNode();return i.src=e.toDataURL("image/png"),i},r.prototype.getCroppedImage=function(t,n){var e=t.maxY-t.minY,r=t.maxX-t.minX,i=document.createElement("canvas");i.width=r,i.height=e;var o=i.getContext("2d");o.drawImage(n,-t.minX,-t.minY);var u=n.cloneNode();return u.src=i.toDataURL("image/png"),i=null,u},r.prototype.getDebugImage=function(t,n){var e=document.createElement("canvas");e.width=this.img.width,e.height=this.img.height;var r=e.getContext("2d"),n=n||"#fff";t.forEach(function(t){t.forEach(function(t,n,e){return 0===n?(r.beginPath(),void r.moveTo(t[0],t[1])):(r.lineTo(t[0],t[1]),void(n===e.length-1&&r.lineTo(e[0][0],e[0][1])))}),r.closePath(),r.strokeStyle=n,r.stroke()});var i=this.img.cloneNode();return i.src=e.toDataURL("image/png"),i}},function(t,n,e){!function(t,e){e(n)}(this,function(t){"use strict";function n(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function e(t){return 1===t.length&&(t=r(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function r(t){return function(e,r){return n(t(e),r)}}function i(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function o(t){return null===t?NaN:+t}function u(t,n){var e,r,i=t.length,u=0,a=0,f=-1,l=0;if(null==n)for(;++f<i;)isNaN(e=o(t[f]))||(r=e-u,u+=r/++l,a+=r*(e-u));else for(;++f<i;)isNaN(e=o(n(t[f],f,t)))||(r=e-u,u+=r/++l,a+=r*(e-u));if(l>1)return a/(l-1)}function a(t,n){var e=u(t,n);return e?Math.sqrt(e):e}function f(t,n){var e,r,i,o=-1,u=t.length;if(null==n){for(;++o<u;)if(null!=(r=t[o])&&r>=r){e=i=r;break}for(;++o<u;)null!=(r=t[o])&&(e>r&&(e=r),i<r&&(i=r))}else{for(;++o<u;)if(null!=(r=n(t[o],o,t))&&r>=r){e=i=r;break}for(;++o<u;)null!=(r=n(t[o],o,t))&&(e>r&&(e=r),i<r&&(i=r))}return[e,i]}function l(t){return function(){return t}}function s(t){return t}function h(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function c(t,n,e){var r=g(t,n,e);return h(Math.ceil(t/r)*r,Math.floor(n/r)*r+r/2,r)}function g(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=S?i*=10:o>=T?i*=5:o>=j&&(i*=2),n<t?-i:i}function v(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function p(){function t(t){var i,o,u=t.length,a=new Array(u);for(i=0;i<u;++i)a[i]=n(t[i],i,t);var f=e(a),l=f[0],s=f[1],h=r(a,l,s);Array.isArray(h)||(h=c(l,s,h));for(var g=h.length;h[0]<=l;)h.shift(),--g;for(;h[g-1]>=s;)h.pop(),--g;var v,p=new Array(g+1);for(i=0;i<=g;++i)v=p[i]=[],v.x0=i>0?h[i-1]:l,v.x1=i<g?h[i]:s;for(i=0;i<u;++i)o=a[i],l<=o&&o<=s&&p[Y(h,o,0,g)].push(t[i]);return p}var n=s,e=f,r=v;return t.value=function(e){return arguments.length?(n="function"==typeof e?e:l(e),t):n},t.domain=function(n){return arguments.length?(e="function"==typeof n?n:l([n[0],n[1]]),t):e},t.thresholds=function(n){return arguments.length?(r="function"==typeof n?n:l(Array.isArray(n)?q.call(n):n),t):r},t}function d(t,n,e){if(null==e&&(e=o),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,u=Math.floor(i),a=+e(t[u],u,t),f=+e(t[u+1],u+1,t);return a+(f-a)*(i-u)}}function m(t,e,r){return t=D.call(t,o).sort(n),Math.ceil((r-e)/(2*(d(t,.75)-d(t,.25))*Math.pow(t.length,-1/3)))}function y(t,n,e){return Math.ceil((e-n)/(3.5*a(t)*Math.pow(t.length,-1/3)))}function C(t,n){var e,r,i=-1,o=t.length;if(null==n){for(;++i<o;)if(null!=(r=t[i])&&r>=r){e=r;break}for(;++i<o;)null!=(r=t[i])&&r>e&&(e=r)}else{for(;++i<o;)if(null!=(r=n(t[i],i,t))&&r>=r){e=r;break}for(;++i<o;)null!=(r=n(t[i],i,t))&&r>e&&(e=r)}return e}function M(t,n){var e,r=0,i=t.length,u=-1,a=i;if(null==n)for(;++u<i;)isNaN(e=o(t[u]))?--a:r+=e;else for(;++u<i;)isNaN(e=o(n(t[u],u,t)))?--a:r+=e;if(a)return r/a}function L(t,e){var r,i=[],u=t.length,a=-1;if(null==e)for(;++a<u;)isNaN(r=o(t[a]))||i.push(r);else for(;++a<u;)isNaN(r=o(e(t[a],a,t)))||i.push(r);return d(i.sort(n),.5)}function b(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(r=t[i],n=r.length;--n>=0;)e[--u]=r[n];return e}function x(t,n){var e,r,i=-1,o=t.length;if(null==n){for(;++i<o;)if(null!=(r=t[i])&&r>=r){e=r;break}for(;++i<o;)null!=(r=t[i])&&e>r&&(e=r)}else{for(;++i<o;)if(null!=(r=n(t[i],i,t))&&r>=r){e=r;break}for(;++i<o;)null!=(r=n(t[i],i,t))&&e>r&&(e=r)}return e}function N(t){for(var n=0,e=t.length-1,r=t[0],i=new Array(e<0?0:e);n<e;)i[n]=[r,r=t[++n]];return i}function R(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r}function w(t,e){if(r=t.length){var r,i,o=0,u=0,a=t[u];for(e||(e=n);++o<r;)(e(i=t[o],a)<0||0!==e(a,a))&&(a=i,u=o);return 0===e(a,a)?u:void 0}}function P(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t}function U(t,n){var e,r=0,i=t.length,o=-1;if(null==n)for(;++o<i;)(e=+t[o])&&(r+=e);else for(;++o<i;)(e=+n(t[o],o,t))&&(r+=e);return r}function k(t){if(!(i=t.length))return[];for(var n=-1,e=x(t,_),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r}function _(t){return t.length}function A(){return k(arguments)}var X=e(n),Y=X.right,E=X.left,I=Array.prototype,q=I.slice,D=I.map,S=Math.sqrt(50),T=Math.sqrt(10),j=Math.sqrt(2);t.bisect=Y,t.bisectRight=Y,t.bisectLeft=E,t.ascending=n,t.bisector=e,t.descending=i,t.deviation=a,t.extent=f,t.histogram=p,t.thresholdFreedmanDiaconis=m,t.thresholdScott=y,t.thresholdSturges=v,t.max=C,t.mean=M,t.median=L,t.merge=b,t.min=x,t.pairs=N,t.permute=R,t.quantile=d,t.range=h,t.scan=w,t.shuffle=P,t.sum=U,t.ticks=c,t.tickStep=g,t.transpose=k,t.variance=u,t.zip=A,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,n,e){!function(t,e){e(n)}(this,function(t){"use strict";function n(t){return function(){return t}}function e(t){return t[0]}function r(t){return t[1]}function i(){this._=null}function o(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function u(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function a(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function f(t){for(;t.L;)t=t.L;return t}function l(t,n,e,r){var i=[null,null],o=T.push(i)-1;return i.left=t,i.right=n,e&&h(i,t,n,e),r&&h(i,n,t,r),D[t.index].halfedges.push(o),D[n.index].halfedges.push(o),i}function s(t,n,e){var r=[n,e];return r.left=t,r}function h(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function c(t,n,e,r,i){var o,u=t[0],a=t[1],f=u[0],l=u[1],s=a[0],h=a[1],c=0,g=1,v=s-f,p=h-l;if(o=n-f,v||!(o>0)){if(o/=v,v<0){if(o<c)return;o<g&&(g=o)}else if(v>0){if(o>g)return;o>c&&(c=o)}if(o=r-f,v||!(o<0)){if(o/=v,v<0){if(o>g)return;o>c&&(c=o)}else if(v>0){if(o<c)return;o<g&&(g=o)}if(o=e-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<g&&(g=o)}else if(p>0){if(o>g)return;o>c&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>g)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<g&&(g=o)}return!(c>0||g<1)||(c>0&&(t[0]=[f+c*v,l+c*p]),g<1&&(t[1]=[f+g*v,l+g*p]),!0)}}}}}function g(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,f=t[0],l=t.left,s=t.right,h=l[0],c=l[1],g=s[0],v=s[1],p=(h+g)/2,d=(c+v)/2;if(v===c){if(p<n||p>=r)return;if(h>g){if(f){if(f[1]>=i)return}else f=[p,e];o=[p,i]}else{if(f){if(f[1]<e)return}else f=[p,i];o=[p,e]}}else if(u=(h-g)/(v-c),a=d-u*p,u<-1||u>1)if(h>g){if(f){if(f[1]>=i)return}else f=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(f){if(f[1]<e)return}else f=[(i-a)/u,i];o=[(e-a)/u,e]}else if(c<v){if(f){if(f[0]>=r)return}else f=[n,u*n+a];o=[r,u*r+a]}else{if(f){if(f[0]<n)return}else f=[r,u*r+a];o=[n,u*n+a]}return t[0]=f,t[1]=o,!0}function v(t,n,e,r){for(var i,o=T.length;o--;)g(i=T[o],t,n,e,r)&&c(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>B||Math.abs(i[0][1]-i[1][1])>B)||delete T[o]}function p(t){return D[t.index]={site:t,halfedges:[]}}function d(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function m(t,n){return n[+(n.left!==t.site)]}function y(t,n){return n[+(n.left===t.site)]}function C(){for(var t,n,e,r,i=0,o=D.length;i<o;++i)if((t=D[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=d(t,T[n[e]]);for(u.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}function M(t,n,e,r){var i,o,u,a,f,l,h,c,g,v,p,d,C=D.length,M=!0;for(i=0;i<C;++i)if(o=D[i]){for(u=o.site,f=o.halfedges,a=f.length;a--;)T[f[a]]||f.splice(a,1);for(a=0,l=f.length;a<l;)v=y(o,T[f[a]]),p=v[0],d=v[1],h=m(o,T[f[++a%l]]),c=h[0],g=h[1],(Math.abs(p-c)>B||Math.abs(d-g)>B)&&(f.splice(a,0,T.push(s(u,v,Math.abs(p-t)<B&&r-d>B?[t,Math.abs(c-t)<B?g:r]:Math.abs(d-r)<B&&e-p>B?[Math.abs(g-r)<B?c:e,r]:Math.abs(p-e)<B&&d-n>B?[e,Math.abs(c-e)<B?g:n]:Math.abs(d-n)<B&&p-t>B?[Math.abs(g-n)<B?c:t,n]:null))-1),++l);l&&(M=!1)}if(M){var L,b,x,N=1/0;for(i=0,M=null;i<C;++i)(o=D[i])&&(u=o.site,L=u[0]-t,b=u[1]-n,x=L*L+b*b,x<N&&(N=x,M=o));if(M){var R=[t,n],w=[t,r],P=[e,r],U=[e,n];M.halfedges.push(T.push(s(u=M.site,R,w))-1,T.push(s(u,w,P))-1,T.push(s(u,P,U))-1,T.push(s(u,U,R))-1)}}for(i=0;i<C;++i)(o=D[i])&&(o.halfedges.length||delete D[i])}function L(){o(this),this.x=this.y=this.arc=this.site=this.cy=null}function b(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],f=r[0]-u,l=r[1]-a,s=o[0]-u,h=o[1]-a,c=2*(f*h-l*s);if(!(c>=-O)){var g=f*f+l*l,v=s*s+h*h,p=(h*g-l*v)/c,d=(f*v-s*g)/c,m=j.pop()||new L;m.arc=t,m.site=i,m.x=p+u,m.y=(m.cy=d+a)+Math.sqrt(p*p+d*d),t.circle=m;for(var y=null,C=S._;C;)if(m.y<C.y||m.y===C.y&&m.x<=C.x){if(!C.L){y=C.P;break}C=C.L}else{if(!C.R){y=C;break}C=C.R}S.insert(y,m),y||(I=m)}}}}function x(t){var n=t.circle;n&&(n.P||(I=n.N),S.remove(n),j.push(n),o(n),t.circle=null)}function N(){o(this),this.edge=this.site=this.circle=null}function R(t){var n=z.pop()||new N;return n.site=t,n}function w(t){x(t),q.remove(t),z.push(t),o(t)}function P(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];w(t);for(var f=o;f.circle&&Math.abs(e-f.circle.x)<B&&Math.abs(r-f.circle.cy)<B;)o=f.P,a.unshift(f),w(f),f=o;a.unshift(f),x(f);for(var s=u;s.circle&&Math.abs(e-s.circle.x)<B&&Math.abs(r-s.circle.cy)<B;)u=s.N,a.push(s),w(s),s=u;a.push(s),x(s);var c,g=a.length;for(c=1;c<g;++c)s=a[c],f=a[c-1],h(s.edge,f.site,s.site,i);f=a[0],s=a[g-1],s.edge=l(f.site,s.site,null,i),b(f),b(s)}function U(t){for(var n,e,r,i,o=t[0],u=t[1],a=q._;a;)if(r=k(a,u)-o,r>B)a=a.L;else{if(i=o-_(a,u),!(i>B)){r>-B?(n=a.P,e=a):i>-B?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}p(t);var f=R(t);if(q.insert(n,f),n||e){if(n===e)return x(n),e=R(n.site),q.insert(f,e),f.edge=e.edge=l(n.site,f.site),b(n),void b(e);if(!e)return void(f.edge=l(n.site,f.site));x(n),x(e);var s=n.site,c=s[0],g=s[1],v=t[0]-c,d=t[1]-g,m=e.site,y=m[0]-c,C=m[1]-g,M=2*(v*C-d*y),L=v*v+d*d,N=y*y+C*C,w=[(C*L-d*N)/M+c,(v*N-y*L)/M+g];h(e.edge,s,m,w),f.edge=l(s,t,null,w),e.edge=l(t,m,null,w),b(n),b(e)}}function k(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-(1/0);e=u.site;var a=e[0],f=e[1],l=f-n;if(!l)return a;var s=a-r,h=1/o-1/l,c=s/l;return h?(-c+Math.sqrt(c*c-2*h*(s*s/(-2*l)-f+l/2+i-o/2)))/h+r:(r+a)/2}function _(t,n){var e=t.N;if(e)return k(e,n);var r=t.site;return r[1]===n?r[0]:1/0}function A(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function X(t,n){return n[1]-t[1]||n[0]-t[0]}function Y(t,n){var e,r,o,u=t.sort(X).pop();for(T=[],D=new Array(t.length),q=new i,S=new i;;)if(o=I,u&&(!o||u[1]<o.y||u[1]===o.y&&u[0]<o.x))u[0]===e&&u[1]===r||(U(u),e=u[0],r=u[1]),u=t.pop();else{if(!o)break;P(o.arc)}if(C(),n){var a=+n[0][0],f=+n[0][1],l=+n[1][0],s=+n[1][1];v(a,f,l,s),M(a,f,l,s)}this.edges=T,this.cells=D,q=S=T=D=null}function E(){function t(t){return new Y(t.map(function(n,e){var r=[Math.round(i(n,e,t)/B)*B,Math.round(o(n,e,t)/B)*B];return r.index=e,r.data=n,r}),u)}var i=e,o=r,u=null;return t.polygons=function(n){return t(n).polygons()},t.links=function(n){return t(n).links()},t.triangles=function(n){return t(n).triangles()},t.x=function(e){return arguments.length?(i="function"==typeof e?e:n(+e),t):i},t.y=function(e){return arguments.length?(o="function"==typeof e?e:n(+e),t):o},t.extent=function(n){return arguments.length?(u=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):u&&[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},t.size=function(n){return arguments.length?(u=null==n?null:[[0,0],[+n[0],+n[1]]],t):u&&[u[1][0]-u[0][0],u[1][1]-u[0][1]]},t}i.prototype={constructor:i,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=f(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(u(this,e),t=e,e=t.U),e.C=!1,r.C=!0,a(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(a(this,e),t=e,e=t.U),e.C=!1,r.C=!0,u(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,l=t.R;if(e=o?l?f(l):o:l,i?i.L===t?i.L=e:i.R=e:this._=e,o&&l?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==l?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=l,l.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,u(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,a(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,u(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,a(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,u(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,a(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var I,q,D,S,T,j=[],z=[],B=1e-6,O=1e-12;Y.prototype={constructor:Y,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return m(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){for(var i,o=e.site,u=e.halfedges,a=-1,f=u.length,l=n[u[f-1]],s=l.left===o?l.right:l.left;++a<f;)i=s,l=n[u[a]],s=l.left===o?l.right:l.left,r<i.index&&r<s.index&&A(o,i,s)<0&&t.push([o.data,i.data,s.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})}},t.voronoi=E,Object.defineProperty(t,"__esModule",{value:!0})})}]);
//# sourceMappingURL=./build/shatter.min.js.map